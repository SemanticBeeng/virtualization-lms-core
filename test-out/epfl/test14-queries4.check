nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2673 = println("expertise2(\"abstract\"):")
val x1270 = Schema.org.departments.flatMap { x1107 => 
val x1262 = Schema.org.employees.flatMap { x1202 => 
val x1109 = x1107.dpt
val x1203 = x1202.dpt
val x1204 = x1109 == x1203
val x1254 = Schema.org.tasks.flatMap { x1240 => 
val x1207 = x1202.emp
val x1241 = x1240.emp
val x1242 = x1207 == x1241
val x1245 = x1240.tsk
val x1248 = x1245 == "abstract"
val x1251 = x1242 && x1248
val x1253 = if (x1251) {
val x767 = new Schema.Record { val ignore = () }
val x794 = List(x767)
x794
} else {
val x34 = List()
x34
}
x1253
}
val x1255 = x1254.isEmpty
val x1259 = x1204 && x1255
val x1261 = if (x1259) {
val x767 = new Schema.Record { val ignore = () }
val x794 = List(x767)
x794
} else {
val x34 = List()
x34
}
x1261
}
val x1263 = x1262.isEmpty
val x1269 = if (x1263) {
val x1109 = x1107.dpt
val x1267 = new Schema.Record { val dpt = x1109 }
val x1268 = List(x1267)
x1268
} else {
val x34 = List()
x34
}
x1269
}
val x2674 = println(x1270)
x2674
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise2("abstract"):
List({dpt:Quality}, {dpt:Research})
