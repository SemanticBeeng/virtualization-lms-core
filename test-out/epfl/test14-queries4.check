nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2580 = println("expertise2(\"abstract\"):")
val x1177 = Schema.org.departments.flatMap { x1018 => 
val x1169 = Schema.org.employees.flatMap { x1111 => 
val x1020 = x1018.dpt
val x1112 = x1111.dpt
val x1113 = x1020 == x1112
val x1161 = Schema.org.tasks.flatMap { x1148 => 
val x1116 = x1111.emp
val x1149 = x1148.emp
val x1150 = x1116 == x1149
val x1153 = x1148.tsk
val x1156 = x1153 == "abstract"
val x1158 = x1150 && x1156
val x1160 = if (x1158) {
val x685 = new Schema.Record { val ignore = () }
val x712 = List(x685)
x712
} else {
val x34 = List()
x34
}
x1160
}
val x1162 = x1161.isEmpty
val x1166 = x1113 && x1162
val x1168 = if (x1166) {
val x685 = new Schema.Record { val ignore = () }
val x712 = List(x685)
x712
} else {
val x34 = List()
x34
}
x1168
}
val x1170 = x1169.isEmpty
val x1176 = if (x1170) {
val x1020 = x1018.dpt
val x1174 = new Schema.Record { val dpt = x1020 }
val x1175 = List(x1174)
x1175
} else {
val x34 = List()
x34
}
x1176
}
val x2581 = println(x1177)
x2581
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise2("abstract"):
List({dpt:Quality}, {dpt:Research})
