nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2673 = println("expertise(\"abstract\"):")
val x906 = Schema.org.departments.flatMap { x838 => 
val x898 = Schema.org.employees.flatMap { x869 => 
val x840 = x838.dpt
val x870 = x869.dpt
val x871 = x840 == x870
val x891 = Schema.org.tasks.flatMap { x882 => 
val x873 = x869.emp
val x883 = x882.emp
val x884 = x873 == x883
val x885 = x882.tsk
val x886 = x885 == "abstract"
val x887 = x884 && x886
val x890 = if (x887) {
val x767 = new Schema.Record { val ignore = () }
val x794 = List(x767)
x794
} else {
val x34 = List()
x34
}
x890
}
val x892 = x891.isEmpty
val x894 = x871 && x892
val x897 = if (x894) {
val x767 = new Schema.Record { val ignore = () }
val x794 = List(x767)
x794
} else {
val x34 = List()
x34
}
x897
}
val x899 = x898.isEmpty
val x905 = if (x899) {
val x840 = x838.dpt
val x903 = new Schema.Record { val dpt = x840 }
val x904 = List(x903)
x904
} else {
val x34 = List()
x34
}
x905
}
val x2674 = println(x906)
x2674
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise("abstract"):
List({dpt:Quality}, {dpt:Research})
