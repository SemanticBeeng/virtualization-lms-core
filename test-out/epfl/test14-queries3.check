nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2580 = println("expertise(\"abstract\"):")
val x824 = Schema.org.departments.flatMap { x756 => 
val x816 = Schema.org.employees.flatMap { x787 => 
val x758 = x756.dpt
val x788 = x787.dpt
val x789 = x758 == x788
val x809 = Schema.org.tasks.flatMap { x800 => 
val x791 = x787.emp
val x801 = x800.emp
val x802 = x791 == x801
val x803 = x800.tsk
val x804 = x803 == "abstract"
val x805 = x802 && x804
val x808 = if (x805) {
val x685 = new Schema.Record { val ignore = () }
val x712 = List(x685)
x712
} else {
val x34 = List()
x34
}
x808
}
val x810 = x809.isEmpty
val x812 = x789 && x810
val x815 = if (x812) {
val x685 = new Schema.Record { val ignore = () }
val x712 = List(x685)
x712
} else {
val x34 = List()
x34
}
x815
}
val x817 = x816.isEmpty
val x823 = if (x817) {
val x758 = x756.dpt
val x821 = new Schema.Record { val dpt = x758 }
val x822 = List(x821)
x822
} else {
val x34 = List()
x34
}
x823
}
val x2581 = println(x824)
x2581
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise("abstract"):
List({dpt:Quality}, {dpt:Research})
